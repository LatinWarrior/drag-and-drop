<div class="advancedDemo row">
    <div class="col-md-12">        
        <div class="row">
            <div ng-repeat="containers in $ctrl.model"  
                class="col-md-4">
                <div class="dropzone box box-yellow" >
                    <h3>Dropzone {{$index + 1}}</h3>
                    <ul dnd-list="containers" 
                        dnd-allowed-types="['container']" 
                        dnd-external-sources="false" 
                        dnd-dragover="$ctrl.dragoverCallback(index, external, type, callback)"
                        dnd-drop="$ctrl.dropCallback(index, item, external, type)">
                            <li ng-repeat="container in containers" 
                                dnd-draggable="container" 
                                dnd-type="'container'" 
                                dnd-effect-allowed="copyMove" 
                                dnd-moved="containers.splice($index, 1)"
                                dnd-callback="container.items.length">
                            <div class="container-element box box-blue">
                                <h3>Container (effects allowed: {{container.effectAllowed}})</h3>
                                <ul dnd-list="container.items" 
                                    dnd-allowed-types="['item']" 
                                    dnd-horizontal-list="false" 
                                    dnd-external-sources="false" 
                                    dnd-effect-allowed="{{container.effectAllowed}}"
                                    dnd-dragover="$ctrl.dragoverCallback(index, external, type)"
                                    dnd-drop="$ctrl.dropCallback(index, item, external, type)"
                                    dnd-inserted="$ctrl.logListEvent('inserted at', index, external, type)" 
                                    class="itemlist">
                                    <li ng-repeat="item in container.items" 
                                        dnd-draggable="item" 
                                        dnd-type="'item'" 
                                        dnd-effect-allowed="{{item.effectAllowed}}"
                                        dnd-dragstart="$ctrl.logEvent('Started to drag an item')" 
                                        dnd-moved="container.items.splice($index, 1)"
                                        dnd-dragend="$ctrl.logEvent('Drag operation ended. Drop effect: ' + dropEffect)">
                                        {{item.label}}
                                    </li>
                                </ul>
                                <div class="clearfix"></div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>    
</div>
<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Generated Model</h3>
            </div>
            <div class="panel-body">
                <pre class="code">{{$ctrl.modelAsJson}}</pre>
            </div>
        </div>
    </div>
</div>